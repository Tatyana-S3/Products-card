{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport {\n  addToCartHandler,\n  addToWishlistHandler,\n  productsListHandler,\n  toggleTheme,\n} from './js/handlers';\nimport { renderProducts } from './js/render-function';\nimport { getWishlistItem } from './js/storage';\nimport { getProductsById } from './js/products-api';\nimport { refs } from './js/refs';\nimport { toggleModal } from './js/modal';\nimport {\n  initializeTheme,\n  updateCartCount,\n  updateWishlistCount,\n} from './js/helpers';\n\nif (document.querySelector('.js-wishlist-page')) {\n  document.addEventListener('DOMContentLoaded', () => {\n    refs.darkThemeBtn.addEventListener('click', toggleTheme);\n    initializeWishlistPage();\n  });\n}\n\nasync function initializeWishlistPage() {\n  updateWishlistCount();\n  updateCartCount();\n  initializeTheme();\n  const productIds = getWishlistItem();\n\n  refs.productsList.innerHTML = '';\n\n  if (!productIds || productIds.length === 0) {\n    iziToast.info({\n      message: 'Wishlist is empty',\n    });\n    return;\n  }\n\n  try {\n    const productPromises = productIds.map(id => getProductsById(id));\n    const productsData = await Promise.all(productPromises);\n    renderProducts(productsData);\n\n    if (refs.productsList) {\n      refs.productsList.addEventListener('click', productsListHandler);\n      refs.modalCloseBtn.addEventListener('click', toggleModal);\n    }\n    if (refs.modalCartBtn) {\n      refs.modalCartBtn.addEventListener('click', addToCartHandler);\n    }\n    if (refs.modalWishlistBtn) {\n      refs.modalWishlistBtn.addEventListener('click', addToWishlistHandler);\n    }\n  } catch (error) {\n    iziToast.error({\n      message: 'Error loading items from Wishlist',\n    });\n  }\n}\n"],"names":["refs","toggleTheme","initializeWishlistPage","updateWishlistCount","updateCartCount","initializeTheme","productIds","getWishlistItem","iziToast","productPromises","id","getProductsById","productsData","renderProducts","productsListHandler","toggleModal","addToCartHandler","addToWishlistHandler"],"mappings":"gKAkBI,SAAS,cAAc,mBAAmB,GAC5C,SAAS,iBAAiB,mBAAoB,IAAM,CAClDA,EAAK,aAAa,iBAAiB,QAASC,CAAW,EACvDC,EAAsB,CACxB,CAAC,EAGH,eAAeA,GAAyB,CACtCC,EAAmB,EACnBC,EAAe,EACfC,EAAe,EACf,MAAMC,EAAaC,EAAe,EAIlC,GAFAP,EAAK,aAAa,UAAY,GAE1B,CAACM,GAAcA,EAAW,SAAW,EAAG,CAC1CE,EAAS,KAAK,CACZ,QAAS,mBACf,CAAK,EACD,MACF,CAEA,GAAI,CACF,MAAMC,EAAkBH,EAAW,IAAII,GAAMC,EAAgBD,CAAE,CAAC,EAC1DE,EAAe,MAAM,QAAQ,IAAIH,CAAe,EACtDI,EAAeD,CAAY,EAEvBZ,EAAK,eACPA,EAAK,aAAa,iBAAiB,QAASc,CAAmB,EAC/Dd,EAAK,cAAc,iBAAiB,QAASe,CAAW,GAEtDf,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASgB,CAAgB,EAE1DhB,EAAK,kBACPA,EAAK,iBAAiB,iBAAiB,QAASiB,CAAoB,CAExE,MAAgB,CACdT,EAAS,MAAM,CACb,QAAS,mCACf,CAAK,CACH,CACF"}